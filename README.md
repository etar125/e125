# Важная инфа
**Проект больше не будет разрабатываться!**  
На данный момент проект находится в полном аду из-за двух веток. Я просто не понимаю что где и как.

---
## e125
Это база для эмуляции "процессоров".  
Сами "процессоры"(расширения) пишутся на языке [TinySS](https://github.com/etar125/tinyss).

### Сборка под Linux
Вам понадобится компилятор GNU C++ и Git.  
Склонируйте репозиторий: `git clone https://github.com/etar125/e125.git`.  
Обновите TinySS и соберите e125:  
```sh
cd e125
make updtss && make
```
### Сборка под Windows
Вам понадобится Visual Studio.  
Скачайте исходный код, добавьте файлы в решение и скомпилируйте.  
**Не все версии будут исправно работать на Windows!**  
У меня получилось исправно запустить *2.24.3_21*.  
![image](https://github.com/user-attachments/assets/5b482697-7773-4e68-900a-0e052b26d207)  
Версия *4.00_24822* тоже работает, но уже с некоторыми багами.  

У вас могут возникнуть проблемы с:
* управляющими символами ANSI(как решение, можно вместо системной CMD использовать ConEmu)
* русским языком
* компиляцией

Встречается неопределённое поведение.  
### Экспериментальные функции
- Новая память, управление не байтами, а битами

Чтобы активировать экспериментальные функции, запустите e125 с параметром ``--test``.

## Документация
### Функции TinySS
Команда 'gcall func' вызывает функцию func.  
Чтобы передать ей аргумент - `gpushb $val'.
| Функция | Аргументы | Описание |
| ------- | --------- | -------- |
| getb | $pos var | Записывает значение ячейки памяти в переменную |
| setb | $pos $val | Устанавливает значение ячейке памяти |
| resmem | $val | Изменяет размер памяти |
| putstr | $val | Выводит строку, поддерживаются спец. символы (см. ниже) |
| putch | $num | Выводит символ |
| getline | var | Ввод в переменную |
| save | name | Сохранение памяти |
| load | name | Загрузка памяти   |

| Спец. символ | Описание |
| ------------ | -------- |
| \n           | Перевод строки |
| \t           | Таб            |
| \a           | ESC            |

### Экспериментальные функции TinySS
| Функция | Аргументы | Описание |
| ------- | --------- | -------- |
| getb | $pos $range var | Получает и записывает массив битов в переменную |
| setb | $pos $bits | Записывает массив битов в память |
| btoi | $bits var |  Записывает массив битов в виде числа в переменную |
| itob | $num var | Записывает число в виде массива битов в переменную |
| getn | $pos $range var | Получает и записывает массив битов в виде числа в переменную |
| setn | $pos $num | Записывает число в виде массива битов в память |

Под массивом битов подразумевается строка типа `010110`.  
Эти функции почти не протестированы.  

---

Пишите о багах, недоработках, советах и/или идеях [здесь](https://github.com/etar125/e125/issues)
